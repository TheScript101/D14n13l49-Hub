-- Speed settings
local speedValue = 30
local loopInterval = 0.05 -- Loop every 0.05 seconds
local walkAnimationId = "rbxassetid://93042126024300"
local jumpAnimationId = "rbxassetid://15775787411"

-- Get the player and character
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Load the custom walking animation
local walkAnimation = Instance.new("Animation")
walkAnimation.AnimationId = walkAnimationId
local walkAnimationTrack = humanoid:LoadAnimation(walkAnimation)

-- Load the jump animation
local jumpAnimation = Instance.new("Animation")
jumpAnimation.AnimationId = jumpAnimationId
local jumpAnimationTrack = humanoid:LoadAnimation(jumpAnimation)

-- Function to loop speed and play the custom walk animation
local function loopSpeedAndPlayWalkAnimation()
    while true do
        -- Reset walking speed
        humanoid.WalkSpeed = speedValue

        -- Check if the player is walking
        if humanoid.MoveDirection.Magnitude > 0 then
            -- Play the custom walking animation if it's not already playing
            if not walkAnimationTrack.IsPlaying then
                walkAnimationTrack:Play()
            end
        else
            -- Stop the custom walking animation if the player stops moving
            if walkAnimationTrack.IsPlaying then
                walkAnimationTrack:Stop()
            end
        end

        -- Wait for the next loop
        wait(loopInterval)
    end
end

-- Play the jump animation when the player jumps
humanoid.StateChanged:Connect(function(_, newState)
    if newState == Enum.HumanoidStateType.Jumping then
        if not jumpAnimationTrack.IsPlaying then
            jumpAnimationTrack:Play()
        end
    end
end)

-- Start looping the speed and playing the custom walk animation
loopSpeedAndPlayWalkAnimation()
